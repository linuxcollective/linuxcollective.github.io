const dropdowns=document.querySelectorAll(".dropdown"),dropdownOpenSelector=".dropdown-menu.show";dropdowns.forEach(e=>{e.addEventListener("click",function(){const n=e.querySelector(".dropdown-menu.show");document.querySelectorAll(dropdownOpenSelector).forEach(e=>e.classList.remove("show")),n||e.querySelector(".dropdown-menu").classList.toggle("show")})}),document.body.addEventListener("click",function(e){const t=e.target.closest(".dropdown");t||document.querySelectorAll(dropdownOpenSelector).forEach(e=>e.classList.remove("show"))});const lsKeyColorPreference="color-preference",lsKeyColorPreferenceDarkVariant="color-preference-dark-variant",getColorPreference=()=>{let e=localStorage.getItem(lsKeyColorPreference);return e!==null?e:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"};let colorPreference=getColorPreference();document.firstElementChild.setAttribute("data-color",colorPreference);const getColorPreferenceDarkVariant=()=>{let e=localStorage.getItem(lsKeyColorPreferenceDarkVariant);return e!==null?e:"dark"};let colorPreferenceDarkVariant=getColorPreferenceDarkVariant(),colorSchemes=document.querySelectorAll(".color-scheme");colorSchemes.forEach(e=>{e.addEventListener("click",function(){let t=e.dataset.value;t!==colorPreference&&(colorPreference=t,setColorPreference(),(t==="dark"||t==="night")&&(colorPreferenceDarkVariant=t,localStorage.setItem(lsKeyColorPreferenceDarkVariant,colorPreferenceDarkVariant)))})});const setColorPreference=()=>{localStorage.setItem(lsKeyColorPreference,colorPreference),document.firstElementChild.setAttribute("data-color",colorPreference)};window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:e})=>{colorPreference=e?colorPreferenceDarkVariant:"light",setColorPreference()});const btnArticleNavMenu=document.querySelector("#article-nav-menu-btn");btnArticleNavMenu&&btnArticleNavMenu.addEventListener("click",function(){document.body.classList.remove("offcanvas-toc-on"),document.body.classList.add("offcanvas-sidebar-on")});const btnArticleNavToc=document.querySelector("#article-nav-toc-btn");btnArticleNavToc&&btnArticleNavToc.addEventListener("click",function(){document.body.classList.remove("offcanvas-sidebar-on"),document.body.classList.add("offcanvas-toc-on")});const btnCloseArticleNavMenu=document.querySelector("#sidebar .btn-close");btnCloseArticleNavMenu&&btnCloseArticleNavMenu.addEventListener("click",function(){document.body.classList.remove("offcanvas-sidebar-on")});const btnCloseArticleNavToc=document.querySelector("#toc .btn-close");if(btnCloseArticleNavToc){btnCloseArticleNavToc.addEventListener("click",function(){document.body.classList.remove("offcanvas-toc-on")});const e=document.querySelectorAll("#toc ul a");e.forEach(e=>{e.addEventListener("click",function(){document.body.classList.remove("offcanvas-toc-on")})})}const fromLargeTablet=window.matchMedia("(min-width: 1024px)"),tocSticky=document.querySelector("#toc .sticky");fromLargeTablet&&tocSticky&&window.addEventListener("scroll",function(){document.body.scrollTop>80||document.documentElement.scrollTop>80?tocSticky.style.top="20px":tocSticky.style.top=null});function updateActiveClasses(){const e=document.querySelectorAll("#article h2, #article h3"),t=document.querySelectorAll("#TableOfContents a");for(let n=0;n<e.length;n++){const s=e[n].getBoundingClientRect();s.top>=0&&s.top<=window.innerHeight?t[n].classList.add("active"):t[n].classList.remove("active")}}window.addEventListener("load",updateActiveClasses),window.addEventListener("resize",updateActiveClasses),window.addEventListener("scroll",updateActiveClasses)